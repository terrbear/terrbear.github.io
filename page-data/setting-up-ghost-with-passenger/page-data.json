{"componentChunkName":"component---src-templates-blog-post-js","path":"/setting-up-ghost-with-passenger/","result":{"data":{"site":{"siteMetadata":{"title":"terrbear dot org"}},"markdownRemark":{"id":"33a4f6ac-3bdb-5415-b9fe-31e9d4d87bdc","excerpt":"I wanted something simpler to blog with, so I’m trying out Ghost. I’ve not hosted any Node apps before, but I already had a server set up running Passenger and Apache (I’ve not jumped on the Nginx bandwagon yet), so I wanted it to work nicely with that. Having done maybe 2 hours of Node development in my life, I thought you had to have an app.js, but not so. Here’s my vhost xfile1: Because Passenger in hosted environments automatically sets NODE_ENV to production, there wasn’t anything else to do here. I did update my config to use MySQL, which worked out of the box. If you’re looking to do…","html":"<p>I wanted something simpler to blog with, so I’m trying out <a href=\"http://ghost.org\">Ghost</a>. I’ve not hosted any <a href=\"http://nodejs.org/\">Node</a> apps before, but I already had a server set up running <a href=\"https://www.phusionpassenger.com/\">Passenger</a> and <a href=\"http://httpd.apache.org/\">Apache</a> (I’ve not jumped on the Nginx bandwagon yet), so I wanted it to work nicely with that.</p>\n<p>Having done maybe 2 hours of Node development in my life, I thought you <em>had</em> to have an app.js, but not so.</p>\n<p>Here’s my vhost xfile[1][2]:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">&lt;VirtualHost *:80&gt;\nServerAdmin webmaster@localhost\nServerName terrbear.org\nServerAlias www.terrbear.org\nServerAlias www.terrbear.ninja\nServerAlias terrbear.ninja\n\nDocumentRoot /var/www/apps/ghost\nPassengerAppRoot /var/www/apps/ghost\nPassengerAppType node\nPassengerStartupFile index.js\nPassengerRestartDir /var/www/apps/ghost/tmp\n\nErrorLog /var/log/apache2/error.log\n\nLogLevel warn\n\nCustomLog /var/log/apache2/access.log combined\nServerSignature On\n&lt;/VirtualHost&gt;</code></pre></div>\n<p>Because Passenger in hosted environments automatically sets NODE_ENV to production, there wasn’t anything else to do here. I did update my config to use MySQL, which worked out of the box. If you’re looking to do the same, copy the travis-ci stanza out and use your own values.</p>\n<p>[1] New installations of Apache search for sites-enabled/*.conf and mods-enabled/*.conf, so if you copied your old vhost file and can’t figure out why it’s not working, that might be a hint.</p>\n<p>[2] Yes, I own terrbear.ninja. No, I don’t have DNS setup for it.</p>","frontmatter":{"title":"Setting up Ghost with Passenger","date":"August 23, 2014","description":"Quickly set up Ghost to run on Phusion Passenger."}}},"pageContext":{"slug":"/setting-up-ghost-with-passenger/","previous":null,"next":{"fields":{"slug":"/historical-nest-usage/"},"frontmatter":{"title":"Historical Nest Usage"}}}}}