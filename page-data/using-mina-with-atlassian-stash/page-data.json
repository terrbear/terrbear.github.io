{"componentChunkName":"component---src-templates-blog-post-js","path":"/using-mina-with-atlassian-stash/","result":{"data":{"site":{"siteMetadata":{"title":"terrbear dot org"}},"markdownRemark":{"id":"a94bf283-44a4-5134-b3d9-3fd4d71e37fe","excerpt":"Internally I’m setting up Atlassian’s Stash, and one of the first projects I wanted to get going was my own projects that were previously hosted on Github. For Rails deployment, I love Mina, so I was hoping it’d be as simple as placing my public key on Stash and changing the repository URL in config.rb. Unfortunately, that’s not how Stash works (from what I can tell); it’s username/password driven. Not willing to put a password into an explicit shell call for cloning, I dug around, and turns out Git supports putting authentication values into a file ~/.netrc. At first this is a little janky…","html":"<p>Internally I’m setting up Atlassian’s <a href=\"https://www.atlassian.com/software/stash\">Stash</a>, and one of the first projects I wanted to get going was my own projects that were previously hosted on <a href=\"https://github.com/\">Github</a>.</p>\n<p>For Rails deployment, I love <a href=\"http://nadarei.co/mina/\">Mina</a>, so I was hoping it’d be as simple as placing my public key on Stash and changing the repository URL in config.rb. Unfortunately, that’s not how Stash works (from what I can tell); it’s username/password driven.</p>\n<p>Not willing to put a password into an explicit shell call for cloning, I <a href=\"https://confluence.atlassian.com/display/STASH/Permanently+authenticating+with+Git+repositories\">dug around</a>, and turns out Git supports putting authentication values into a file ~/.netrc.</p>\n<p>At first this is a little janky, but it’s not too different from a public key. It just means the inherent authorizations don’t match up immediately (ie, you can’t login to Github with a public key).</p>\n<p>I created a user whose only job is to check out the repo, populated my .netrc as:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">machine my.stash.instance\nlogin deployer\npassword BOOM</code></pre></div>\n<p>And authentication works magically.</p>","frontmatter":{"title":"Using Mina with Atlassian Stash","date":"August 26, 2014","description":null}}},"pageContext":{"slug":"/using-mina-with-atlassian-stash/","previous":{"fields":{"slug":"/historical-nest-usage/"},"frontmatter":{"title":"Historical Nest Usage"}},"next":{"fields":{"slug":"/iot-button-plus-pushover/"},"frontmatter":{"title":"AWS IoT Button + Pushover = Extra Laziness"}}}}}